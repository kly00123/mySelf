(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mytask-part"],{"09a7":function(t,e,i){var a=i("d6aa");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("474c1213",a,!0,{sourceMap:!1,shadowMode:!1})},"67b5":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("uni-page-head",{attrs:{"uni-page-head-type":"default"}},[i("div",{staticClass:"uni-page-head",staticStyle:{background:"linear-gradient(90deg,#762f93,#e23b93,#f08300)",color:"rgb(255, 255, 255)"}},[i("div",{staticClass:"uni-page-head-hd"},[i("div",{staticClass:"uni-page-head-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goIndex.apply(void 0,arguments)}}},[i("i",{staticClass:"uni-btn-icon",staticStyle:{color:"rgb(255, 255, 255)","font-size":"27px"}},[t._v("")])])]),i("div",{staticClass:"uni-page-head-bd"},[i("div",{staticClass:"uni-page-head__title",staticStyle:{"font-size":"16px",opacity:"1"}},[t._v("微信获客")])])]),i("div",{staticClass:"uni-placeholder"})]),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"per"},[i("v-uni-view",{staticClass:"per-leber"},[t._v("任务类型")]),i("v-uni-view",{staticClass:"uni-per"},[t._v("微信获客")])],1),i("v-uni-view",{staticClass:"per"},[i("v-uni-view",{staticClass:"per-leber"},[t._v("任务介绍")]),i("v-uni-view",{staticClass:"uni-per"},[t._v("主动添加微信号，截图上传")])],1),i("v-uni-view",{staticClass:"per"},[i("v-uni-view",{staticClass:"per-leber"},[t._v("任务单价")]),i("v-uni-view",{staticClass:"uni-per"},[t._v(t._s(t.price)+"豆")])],1),i("v-uni-view",{staticClass:"per"},[i("v-uni-view",{staticClass:"per-leber"},[t._v("微信号"),i("span",{staticStyle:{color:"red"}},[t._v("*")])]),i("v-uni-view",{staticClass:"uni-per"},[i("v-uni-input",{staticClass:"input",staticStyle:{"font-size":"30rpx"},attrs:{placeholder:"请输入微信号"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)],1),i("v-uni-view",{staticClass:"per"},[i("v-uni-view",{staticClass:"per-leber"},[t._v("任务数量"),i("span",{staticStyle:{color:"red"}},[t._v("*")])]),i("v-uni-view",{staticClass:"uni-per"},[i("v-uni-input",{staticClass:"input",staticStyle:{"font-size":"30rpx"},attrs:{placeholder:"请输入任务数量"},model:{value:t.quota,callback:function(e){t.quota=e},expression:"quota"}})],1)],1)],1),i("v-uni-view",{staticClass:"bottoms",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCreateTask.apply(void 0,arguments)}}},[t._v("发布")])],1)},o=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))},"821e":function(t,e,i){"use strict";i.r(e);var a=i("e76f"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},8845:function(t,e,i){t.exports=i.p+"static/img/icon_plus.b7dcf8a4.svg"},d6aa:function(t,e,i){var a=i("24fb"),n=i("1de5"),o=i("8845");e=a(!1);var r=n(o);e.push([t.i,"uni-page-body[data-v-278889cb]{background-color:#f5f5f9}.title[data-v-278889cb]{height:%?128?%;background:#f04f43;opacity:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;line-height:%?128?%;padding-top:%?24?%;font-size:%?34?%;font-family:PingFang SC;font-weight:400;color:#fff;opacity:1}.per-leber[data-v-278889cb]{width:%?180?%;margin-left:%?24?%}.left[data-v-278889cb]{width:%?24?%;height:%?48?%;margin-left:%?24?%}.content[data-v-278889cb]{\n\t/* height: 376rpx; */margin-top:%?-80?%}.per[data-v-278889cb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n\t/* justify-content: space-between; */-webkit-box-align:center;-webkit-align-items:center;align-items:center;\n\t/* margin-left: 24rpx; */background-color:#fff;font-size:%?30?%;font-family:PingFang SC;font-weight:400;height:%?92?%;border-bottom:%?1?% solid #ebebeb;color:#333;opacity:1}.icons[data-v-278889cb]{width:%?13?%;height:%?20?%;margin-right:%?24?%;margin-left:%?24?%}.uni-per[data-v-278889cb]{-webkit-box-flex:1;-webkit-flex:1;flex:1;\n\n\t/* display: flex; */\n\t/* flex-direction: row; */-webkit-box-align:center;-webkit-align-items:center;align-items:center}.cricle[data-v-278889cb]{width:%?72?%;height:%?72?%;background:#fff;border-radius:50%;opacity:1;margin-bottom:%?8?%}.input[data-v-278889cb]{\n\n\t/* text-align: right; */}.uni-num[data-v-278889cb]{font-size:%?30?%;font-family:PingFang SC;font-weight:400;color:#999;opacity:1}.address[data-v-278889cb]{height:%?188?%;background:#fff;opacity:1;margin-top:%?20?%}.uni-address[data-v-278889cb]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-left:%?24?%;font-size:%?30?%;font-family:PingFang SC;font-weight:400;height:%?94?%;border-bottom:%?1?% solid #ebebeb;color:#333;opacity:1}.per-leberr[data-v-278889cb]{width:%?180?%;margin-left:%?6?%}.uni-photo[data-v-278889cb]{width:100%;height:%?380?%;background:#f5f5f5;opacity:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:%?8?%;text-align:center;margin-top:%?26?%}.textarea-group[data-v-278889cb]{padding:%?20?%;background-color:#fff;overflow:hidden}.upload-photo-box[data-v-278889cb]{width:25%;float:left;position:relative;margin-top:%?30?%}.upload-photo-box-span[data-v-278889cb]{width:%?40?%;height:%?40?%;border-radius:%?50?%;background-color:#ff940a;color:#fff;text-align:center;position:absolute;z-index:1;top:%?-10?%;right:0;font-size:%?40?%;line-height:%?34?%;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.loaded-photo-thumbnail[data-v-278889cb]{width:%?150?%;height:%?150?%;margin:0 auto;border-radius:%?20?%}.add-photo-btn[data-v-278889cb]{width:%?150?%;height:%?150?%;margin:0 auto;border:%?2?% #ccc dashed;border-radius:%?20?%;background:url("+r+") no-repeat 50%;background-size:%?80?%}.loaded-photo-thumbnail uni-image[data-v-278889cb]{width:100%;height:100%;border-radius:%?20?%}.bottoms[data-v-278889cb]{width:%?702?%;height:%?92?%;background:-webkit-linear-gradient(274deg,#fa5c6c,#fa5c6c 7%,#ff5737);background:linear-gradient(176deg,#fa5c6c,#fa5c6c 7%,#ff5737);opacity:1;border-radius:%?8?%;margin-top:%?100?%;margin-bottom:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-left:%?24?%;line-height:%?92?%;text-align:center;font-size:%?34?%;font-family:PingFang SC;font-weight:400;color:#fff;opacity:1}body.?%PAGE?%[data-v-278889cb]{background-color:#f5f5f9}",""]),t.exports=e},dc83:function(t,e,i){"use strict";var a=i("09a7"),n=i.n(a);n.a},e76f:function(t,e,i){"use strict";var a=i("ee27");i("a4d3"),i("e01a"),i("d3b7"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("36fb")),o={data:function(){return{array:["选择任务类型","集赞涨粉","店铺关注"],arr:["选择任务单价","3","8","10","30","50"],arrayIndex:0,arrayNum:0,aim:["选择任务要求","点赞","关注","点赞+关注"],aimIndex:0,price:18,index:0,token:"",taskPackage:{},taskName:"",url:"",info:{},description:"主动添加以上微信号，截图上传",list:[{id:1,name:"3个",value:3},{id:2,name:"8个",value:8},{id:3,name:"10个",value:10},{id:4,name:"30个",value:30}],number:"",imgSvr:"",current:-1,packIndex:-1}},onLoad:function(t){this.imgSvr=this.ImgServer,this.token=uni.getStorageSync("token"),this.taskPackage=JSON.parse(t.item),this.getInfo()},onShow:function(){this.getInfo()},methods:{bindPickerChange:function(t){this.arrayIndex=t.target.value,this.price=this.arrayIndex,console.log(t)},PickerChange:function(t){this.arrayNum=t.target.value,console.log(this.arrayNum)},radioChange:function(t){this.packIndex=t.target.value},getInfo:function(){var t=this;uni.showLoading({title:"请稍候..."}),uni.request({url:t.ApiGateWay+"/sale/Member/GetInfo",data:"",method:"POST",dataType:"json",header:{Authorization:t.token},success:function(e){n.default.CheckData(e)&&(t.info=e.data.data,console.log(this.info))},fail:function(){uni.hideLoading()},complete:function(){uni.hideLoading()}})},getData:function(){var t=this;uni.showLoading({title:"请稍候..."}),uni.request({url:t.ApiGateWay+"/sale/Member/GetTodayData",data:"",method:"POST",dataType:"json",header:{Authorization:t.token},success:function(e){console.log(e),n.default.CheckData(e)&&(t.dataModel=e.data.data,t.moneyQuota=e.data.data.moneyQuota,t.money=e.data.data.money)},fail:function(){uni.hideLoading()},complete:function(){uni.hideLoading()}})},selectPic:function(){var t=this,e="";uni.chooseImage({count:1,sizeType:["compressed"],success:function(i){e=i.tempFilePaths.toString(),uni.getImageInfo({src:e,success:function(i){var a=i.width,n=i.height,o=a/n;a>300&&(a=300,n=Math.floor(a/o));var r=new Image;r.src=e;var c=document.createElement("canvas"),s=c.getContext("2d");c.width=a,c.height=n,s.clearRect(0,0,a,n),s.drawImage(r,0,0,a,n),e=c.toDataURL("image/jpeg"),t.upload(e)}})}})},upload:function(t){uni.showLoading({title:"请稍候..."});var e=this;uni.uploadFile({url:e.ApiGateWay+"/sale/image/uploadByFile",filePath:t,name:"file",formData:{path:"/sale/newtask/"},success:function(t){uni.hideLoading();var i=JSON.parse(t.data);0==i.errorCode?(uni.showToast({icon:"success",title:"图片上传成功!"}),e.url=i.data):uni.showModal({title:"提示",content:"图片上传失败",showCancel:!1,success:function(t){}})},fail:function(){uni.hideLoading()},complete:function(){e.upload_field=""}})},goIndex:function(){uni.navigateTo({url:"/pages/mytask/promote"})},getList:function(){var t=this;uni.request({url:t.ApiGateWay+"/sale/Member/GetTaskPackageDetailsList?taskTypeListId="+t.array[t.index].id+"&taskPackageId="+t.taskPackage.taskPackageId+"&parentId="+t.array[t.index].parentId,data:"",method:"POST",dataType:"json",header:{Authorization:t.token},success:function(e){n.default.CheckData(e)&&(t.list=e.data.list,console.log(t.list))},fail:function(){},complete:function(){uni.hideLoading()}})},bindAimPickerChange:function(t){this.aimIndex=t.target.value},goCreateTask:function(){var t=this,e={orderNo:t.taskPackage.orderNo,taskName:t.taskName,url:t.url,quota:t.quota,description:t.description,aim:t.aimIndex-1,taskType:4,price:this.price};console.log(e),uni.showLoading({title:"加载中..."}),uni.request({url:t.ApiGateWay+"/sale/Member/CreateTask",data:e,header:{Authorization:t.token},method:"POST",dataType:"json",success:function(t){n.default.CheckData(t)?uni.showModal({title:"信息提示",content:"任务发布成功",showCancel:!1,success:function(t){uni.navigateBack({delta:1})}}):uni.showModal({title:"出错了",content:t.data.errorMessage,showCancel:!1,success:function(t){}})},complete:function(){uni.hideLoading()},fail:function(t){uni.stopPullDownRefresh()}})},getArrayType:function(t){var e=this;uni.request({url:e.ApiGateWay+"/sale/Member/GetTaskTypeListEntity?id="+t,data:"",method:"POST",dataType:"json",header:{Authorization:e.token},success:function(t){n.default.CheckData(t)&&(e.array=t.data.list,console.log(e.array),e.getList(e.taskPackage.taskPackageId,e.taskPackage.typeId))},fail:function(){},complete:function(){uni.hideLoading()}})}}};e.default=o},ff43:function(t,e,i){"use strict";i.r(e);var a=i("67b5"),n=i("821e");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("dc83");var r,c=i("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"278889cb",null,!1,a["a"],r);e["default"]=s.exports}}]);