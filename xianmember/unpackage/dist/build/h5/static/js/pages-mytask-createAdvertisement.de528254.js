(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mytask-createAdvertisement"],{4877:function(t,e,i){"use strict";i.r(e);var a=i("f684"),n=i("72e9");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("62d6");var c,s=i("f0c5"),r=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"1a1bc540",null,!1,a["a"],c);e["default"]=r.exports},"5a4f":function(t,e,i){"use strict";var a=i("ee27");i("a4d3"),i("e01a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("36fb")),o={data:function(){return{array:["选择任务类型","抖音","快手","微视","火山"],aim:["选择任务要求","点赞","关注","点赞+关注"],aimIndex:0,index:0,token:"",taskPackage:{},taskName:"",url:"",description:"",list:[],current:-1,packIndex:-1,src:"",video:0,srcUrl:"",urlVideo:"https://cdridge.oss-cn-shanghai.aliyuncs.com"}},onLoad:function(t){this.token=uni.getStorageSync("token"),this.taskPackage=JSON.parse(t.item),console.log(this.taskPackage),this.getList(this.taskPackage.taskTypeId,this.taskPackage.taskPackageId)},methods:{bindPickerChange:function(t){this.index=t.target.value},radioChange:function(t){this.packIndex=t.target.value},bindAimPickerChange:function(t){this.aimIndex=t.target.value},goCreateTask:function(){var t=this;if(-1!=this.packIndex)if(1==this.video){var e={orderNo:t.taskPackage.orderNo,taskName:t.taskName,url:t.src,description:t.description,aim:t.aimIndex-1,taskType:t.taskPackage.taskTypeId,packIndex:t.packIndex};uni.showLoading({title:"加载中..."}),uni.request({url:t.ApiGateWay+"/sale/Member/CreateTaskAdvertisement",data:e,header:{Authorization:t.token},method:"POST",dataType:"json",success:function(t){n.default.CheckData(t)?uni.showModal({title:"信息提示",content:"任务发布成功",showCancel:!1,success:function(t){uni.navigateTo({url:"/pages/news/new"})}}):uni.showModal({title:"出错了",content:t.data.errorMessage,showCancel:!1,success:function(t){}})},complete:function(){uni.hideLoading()},fail:function(t){uni.stopPullDownRefresh()}})}else uni.showToast({title:"视屏地址错误",icon:"none"});else uni.showToast({title:"请选择数量",icon:"none"})},sendSrcUrl:function(){this.src=this.srcUrl,this.video=1,this.src&&1==this.video&&console.log(this.src)},videoErrorCallback:function(t){uni.showModal({content:"视屏地址错误",showCancel:!1})},chooseVideo:function(){var t=this;uni.chooseVideo({sourceType:["album"],success:function(e){t.src=e.tempFilePath,t.upload(e.tempFilePath)}})},upload:function(t){uni.showLoading({title:"请稍候..."});var e=this;uni.uploadFile({url:e.ApiGateWay+"/sale/video/UploadByFileVideo",filePath:t,name:"file",formData:{path:"/chen/"},success:function(t){uni.hideLoading();var i=JSON.parse(t.data);console.log(i),0==i.errorCode?(uni.showToast({icon:"success",title:"视屏上传成功!"}),e.src=e.urlVideo+i.data,e.srcUrl=e.urlVideo+i.data,e.video=1):uni.showModal({title:"提示",content:"视屏上传失败",showCancel:!1,success:function(t){}})},fail:function(){uni.hideLoading()},complete:function(){e.upload_field=""}})},getList:function(t,e){var i=this;uni.request({url:i.ApiGateWay+"/sale/Member/GetTaskPackageDetailsList?taskTypeListId="+t+"&taskPackageId="+e,data:"",method:"POST",dataType:"json",header:{Authorization:i.token},success:function(t){n.default.CheckData(t)&&(i.list=t.data.list)},fail:function(){},complete:function(){uni.hideLoading()}})}}};e.default=o},"5a90":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"uni-page-body[data-v-1a1bc540]{background:#fff}.title[data-v-1a1bc540]{height:%?128?%;background:#f04f43;opacity:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center;line-height:%?128?%;padding-top:%?24?%;font-size:%?34?%;font-family:PingFang SC;font-weight:400;color:#fff;opacity:1}.left[data-v-1a1bc540]{width:%?24?%;height:%?48?%;margin-left:%?24?%}.content[data-v-1a1bc540]{\n\t/* height: 376rpx; */border-radius:4px;margin:%?40?% %?40?%;padding:%?20?%;box-shadow:1px 1px 10px silver}.per[data-v-1a1bc540]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\n\t/* justify-content: space-between; */-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-left:%?24?%;font-size:%?30?%;font-family:PingFang SC;font-weight:400;height:%?92?%;border-bottom:%?1?% solid #ebebeb;color:#333;opacity:1}.icons[data-v-1a1bc540]{width:%?13?%;height:%?20?%;margin-right:%?24?%;margin-left:%?24?%}.uni-per[data-v-1a1bc540]{-webkit-box-flex:1;-webkit-flex:1;flex:1;\n\n\t/* display: flex; */\n\t/* flex-direction: row; */-webkit-box-align:center;-webkit-align-items:center;align-items:center}.cricle[data-v-1a1bc540]{width:%?72?%;height:%?72?%;background:#fff;border-radius:50%;opacity:1;margin-bottom:%?8?%}.input[data-v-1a1bc540]{\n\n\t/* text-align: right; */}.uni-num[data-v-1a1bc540]{font-size:%?30?%;font-family:PingFang SC;font-weight:400;color:#999;opacity:1}.address[data-v-1a1bc540]{height:%?188?%;background:#fff;opacity:1;margin-top:%?20?%}.uni-address[data-v-1a1bc540]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-left:%?24?%;font-size:%?30?%;font-family:PingFang SC;font-weight:400;height:%?94?%;border-bottom:%?1?% solid #ebebeb;color:#333;opacity:1}.bottoms[data-v-1a1bc540]{width:%?702?%;height:%?92?%;background:-webkit-linear-gradient(274deg,#fa5c6c,#fa5c6c 7%,#ff5737);background:linear-gradient(176deg,#fa5c6c,#fa5c6c 7%,#ff5737);opacity:1;border-radius:%?8?%;margin-top:%?140?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;margin-left:%?24?%;line-height:%?92?%;text-align:center;font-size:%?34?%;font-family:PingFang SC;font-weight:400;color:#fff;opacity:1}.uni-btn-v[data-v-1a1bc540]{margin:%?20?% 0}.uni-void[data-v-1a1bc540]{width:100%;height:%?450?%;text-align:center;background-color:#f8f8f8;margin:%?20?% 0}#myVideo[data-v-1a1bc540]{width:100%;height:100%}body.?%PAGE?%[data-v-1a1bc540]{background:#fff}",""]),t.exports=e},"62d6":function(t,e,i){"use strict";var a=i("b667"),n=i.n(a);n.a},"72e9":function(t,e,i){"use strict";i.r(e);var a=i("5a4f"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},b667:function(t,e,i){var a=i("5a90");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5058f62b",a,!0,{sourceMap:!1,shadowMode:!1})},f684:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page"},[i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"per"},[i("v-uni-view",{staticStyle:{width:"180rpx"}},[t._v("任务名")]),i("v-uni-view",{staticClass:"uni-per"},[i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入任务名"},model:{value:t.taskName,callback:function(e){t.taskName=e},expression:"taskName"}})],1)],1),i("v-uni-view",{staticClass:"per"},[i("v-uni-view",{staticStyle:{width:"180rpx"}},[t._v("任务类型")]),i("v-uni-view",{staticClass:"uni-per"},[i("v-uni-view",{staticStyle:{color:"#999999"}},[t._v("广告宣传")])],1)],1),i("v-uni-view",{staticStyle:{"margin-left":"20px"}},[i("v-uni-radio-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.radioChange.apply(void 0,arguments)}}},t._l(t.list,(function(e,a){return i("v-uni-label",{key:e.id,staticStyle:{"flex-direction":"row",display:"flex","line-height":"40px"}},[i("v-uni-view",[i("v-uni-radio",{attrs:{value:e.id+""}})],1),i("v-uni-view",{staticStyle:{"font-size":"32rpx"}},[t._v(t._s(e.name))])],1)})),1)],1),i("v-uni-view",{staticClass:"uni-void"},[t.src&&1==t.video?i("v-uni-video",{attrs:{id:"myVideo",src:t.src,"enable-danmu":!0,controls:!0},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.videoErrorCallback.apply(void 0,arguments)}}}):i("v-uni-view",{staticClass:"uni-void",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chooseVideo.apply(void 0,arguments)}}},[i("h3",{staticStyle:{"line-height":"400rpx"}},[t._v("请选择视频")])])],1),i("v-uni-view",{staticClass:"per"},[i("v-uni-view",{staticStyle:{width:"180rpx"}},[t._v("视频链接")]),i("v-uni-view",{staticClass:"uni-per"},[i("v-uni-input",{staticClass:"input",attrs:{placeholder:"请输入视屏链接"},model:{value:t.srcUrl,callback:function(e){t.srcUrl=e},expression:"srcUrl"}})],1)],1),i("v-uni-view",{staticClass:"uni-btn-v",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendSrcUrl.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"page-body-button butt"},[t._v("确认视频地址")])],1),i("v-uni-view",{staticClass:"uni-per"},[i("v-uni-textarea",{staticStyle:{width:"98%",padding:"8rpx","background-color":"#F5F5F5"},attrs:{value:"",maxlength:"300",placeholder:"请输入任务介绍"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),i("v-uni-view",{staticClass:"bottoms",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goCreateTask.apply(void 0,arguments)}}},[t._v("发布")])],1)},o=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))}}]);