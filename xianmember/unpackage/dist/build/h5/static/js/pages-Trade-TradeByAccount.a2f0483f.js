(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-Trade-TradeByAccount"],{"123b":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAC+UlEQVRYR82YS0hUYRTHf2cc0hZJRPRw4SIKWkQQtBB6QIsWYWQQokISBA0UgTOWEbSxRdjDZgaj6CHUIrIX9DKwhVAqRbQpWrSIQgh6hwoGzejMiXvn7aRzvzsjdrffOf/53XPOPd85Ixg8GmQRHrYCm4E1KFUIK5MSH4HPwFugn0meyWF+OpUXJ4YaZD0ejgE7ndinbZQHCB3i52UhvxlB9BxVTHISobmQUIHzHqK0yhG+Tmc3LYiG2Q7cASqKhEi5R1B2SYDH/9LLA1EQwviAiyUCmCrjo4VuETT7IB8kSAsewrMEkZL1iZ8r04Ik0/HIAGIImLTtlWqEFQa+deLnYco+HRG7MGN8MKoJZYsEeGpzhOhFqDUAiTBBtbTx3fLJgITpARoNhKwoFANi/dRN8dOUBkn2iVdGEIl0FAsCMTbIIZ7bEdEw94ybValA4Jb4aZRk2/5lHI3SgUCEStEwDVau5hRE2W2BnAcOzDHIZdEQAwib5hhkwAJ5n3WVm/EoAQkkurCGeQOsNRNIWw9bqcnp+UZCynEJ0J4EGQEWGvlnjEf/DxBlzAKx2rrJHZF5j9JFxE7NILDRVUhLBaIMWiAXgP2uQKAPoc/2jdOBMN+VjmJ/vk0IN1wJlMopToNoJ4vx8qNUmi50IvxhaeLSC3Efoc6FSPEuyl0JUJ8AOUsNZbxwoTqE0kwMxWvfVzXGGso6CfA6MxiFuIawx0AoxigV0p4YFbWLcuL8BsoMNK6Kn72WfQbkNMuYxzBQ7lAozgSV0mb/OMla+wZ4HPqPE2VVatfJmeI1RC1Cr0Mha0L7guBDiKN0A8sd+8bZJq3JTz87IikBDeLDwyXHgu4MW8RPV7Zr/l6jCCH2zSJMHkROjUx9MQ2zA7htUDOFYjNOnPrsdMwYkexDPcMSvHSWYAm/TpQ2V0t4DlAnG/FyEOz51uljLd3W1njC6hOFnBz9P5Iu5FMswEsdHnu0XI1QbQ9DVl0JIyifgHco/UR5IkcZKwSQOv8Lna4M7iYxpbUAAAAASUVORK5CYII="},"59d9":function(t,a,e){var i=e("a09d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("a6797878",i,!0,{sourceMap:!1,shadowMode:!1})},"5b43":function(t,a,e){"use strict";var i,n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("uni-page-head",{attrs:{"uni-page-head-type":"default"}},[i("div",{staticClass:"uni-page-head",staticStyle:{background:"linear-gradient(90deg,#e4007f,#f08300)",color:"rgb(255, 255, 255)"}},[i("div",{staticClass:"uni-page-head-hd"},[i("div",{staticClass:"uni-page-head-btn",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goIndex.apply(void 0,arguments)}}},[i("i",{staticClass:"uni-btn-icon",staticStyle:{color:"rgb(255, 255, 255)","font-size":"27px"}},[t._v("")])])]),i("div",{staticClass:"uni-page-head-bd"},[i("div",{staticClass:"uni-page-head__title",staticStyle:{"font-size":"16px",opacity:"1"}},[t._v("交易市场")])]),i("div",{staticClass:"uni-page-head-ft"})]),i("div",{staticClass:"uni-placeholder"})]),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"balance"},[i("v-uni-view",{staticClass:"balance-a balance-b"},[i("span",[t._v("渠豆")]),i("p",[t._v(t._s(t.money))])]),i("v-uni-view",{staticClass:"balance-a"},[i("span",[t._v("余额")]),i("p",[t._v(t._s(t.moneyQuota))])])],1),i("v-uni-view",{staticClass:"price-update"},[i("v-uni-view",[i("span",{staticClass:"price-update-span1"},[t._v("昨日")]),i("span",{staticClass:"price-update-span2"},[t._v(t._s(t.priceTime.yesterday))])]),i("v-uni-view",[i("span",{staticClass:"price-update-span1"},[t._v("今日")]),i("span",{staticClass:"price-update-span2"},[t._v(t._s(t.priceTime.sameday))])]),i("v-uni-view",[i("span",{staticClass:"price-update-span1"},[t._v("明日预计")]),i("span",{staticClass:"price-update-span2"},[t._v(t._s(t.priceTime.tomorrow))])])],1),i("v-uni-view",{staticClass:"trade-order"},[i("v-uni-view",{staticClass:"trade-order-1",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goReleaseSell.apply(void 0,arguments)}}},[i("i",{staticClass:"trade-order-i trade-order-1-i"}),i("span",{staticClass:"trade-order-span"},[t._v("发布卖单")])]),i("v-uni-view",{staticClass:"trade-order-1",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goTradeSaleOrder.apply(void 0,arguments)}}},[i("i",{staticClass:"trade-order-i trade-order-3-i"}),i("span",{staticClass:"trade-order-span"},[t._v("我的卖单")])]),i("v-uni-view",{staticClass:"trade-order-1",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goTradeOrder.apply(void 0,arguments)}}},[i("i",{staticClass:"trade-order-i trade-order-4-i"}),i("span",{staticClass:"trade-order-span"},[t._v("交易记录")])])],1),t.priceTime.total?i("v-uni-view",{staticClass:"price-update"},[i("v-uni-view",[i("span",{staticClass:"price-update-span1"},[t._v("总成交量")]),i("span",{staticClass:"price-update-span2"},[t._v(t._s(t.priceTime.total))])]),i("v-uni-view",[i("span",{staticClass:"price-update-span1"},[t._v("今日成交量")]),i("span",{staticClass:"price-update-span2"},[t._v(t._s(t.priceTime.todayTotal))])])],1):t._e(),i("v-uni-view",{staticClass:"starorder"},[i("v-uni-image",{staticStyle:{width:"34rpx",height:"34rpx"},attrs:{src:e("123b")}}),i("v-uni-text",{staticStyle:{color:"#FF9000","margin-left":"16rpx"}},[t._v("Tips")]),i("v-uni-view",{staticStyle:{color:"darkgray","font-size":"12px"}},[t._v(t._s(t.message))])],1),i("v-uni-view",{staticClass:"trade-tab"},t._l(t.saleList,(function(a,n){return i("v-uni-view",{staticClass:"trade-list-content"},[i("v-uni-image",{staticClass:"header",attrs:{src:e("e8b8"),mode:""}}),i("v-uni-view",{staticClass:"trade-list-item"},[i("span",{staticClass:"trade-list-item-span1"},[t._v(t._s(a.userPhone))]),i("span",{staticClass:"trade-list-item-span2"},[t._v(t._s(a.price))])]),i("v-uni-view",{staticClass:"trade-list-item"},[i("span",{staticClass:"trade-list-item-span3"},[t._v(t._s(a.surplus)+"个")]),i("span",{staticClass:"trade-list-item-span4",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getBuy(n,a)}}},[t._v("购买")])])],1)})),1),t.action?i("uni-modal",{},[i("div",{staticClass:"uni-mask"}),i("div",{staticClass:"uni-modal"},[i("div",{staticClass:"uni-modal__hd"},[i("strong",{staticClass:"uni-modal__title"},[t._v("购买")])]),i("div",{staticClass:"uni-modal__bd"},[i("v-uni-label",{staticClass:"release-label"},[i("span",{staticStyle:{float:"left"}},[t._v("限额")])]),i("v-uni-input",{staticClass:"uni-input modal-input",attrs:{disabled:!0,type:"number",maxlength:"7"},model:{value:t.item.surplus,callback:function(a){t.$set(t.item,"surplus",a)},expression:"item.surplus"}})],1),i("div",{staticClass:"uni-modal__bd"},[i("v-uni-label",{staticClass:"release-label"},[i("span",{staticStyle:{float:"left"}},[t._v("价格")])]),i("v-uni-input",{staticClass:"uni-input modal-input",attrs:{disabled:!0,type:"number",maxlength:"7"},model:{value:t.item.price,callback:function(a){t.$set(t.item,"price",a)},expression:"item.price"}})],1),i("div",{staticClass:"uni-modal__bd"},[i("v-uni-label",{staticClass:"release-label"},[i("span",{staticStyle:{float:"left"}},[t._v("数量")])]),i("v-uni-input",{staticClass:"uni-input modal-input",attrs:{id:"inbox",focus:!0,placeholder:"请输入购买数量","placeholder-style":"color:#ffa6b4",type:"number",maxlength:"7"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.keUp.apply(void 0,arguments)}},model:{value:t.buyNumber,callback:function(a){t.buyNumber=a},expression:"buyNumber"}})],1),i("div",{staticClass:"uni-modal__bd"},[i("v-uni-label",{staticClass:"release-label"},[i("span",{staticStyle:{float:"left"}},[t._v("实付金额")])]),i("v-uni-input",{staticClass:"modal-input",attrs:{type:"number",disabled:!0,maxlength:"7"},model:{value:t.buyMoney,callback:function(a){t.buyMoney=a},expression:"buyMoney"}})],1),i("div",{staticClass:"uni-modal__ft"},[i("div",{staticClass:"uni-modal__btn uni-modal__btn_primary",staticStyle:{color:"rgb(90, 131, 233)"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.addBuyListEntity.apply(void 0,arguments)}}},[t._v("确定")]),i("div",{staticClass:"uni-modal__btn uni-modal__btn_primary",staticStyle:{color:"rgb(90, 131, 233)"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.noBuy.apply(void 0,arguments)}}},[t._v("取消")])])])]):t._e()],1)],1)},s=[];e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return i}))},"5d35":function(t,a,e){t.exports=e.p+"static/img/trade_icon_3.8e5782f9.svg"},"687f":function(t,a,e){t.exports=e.p+"static/img/trade_icon_1.6105492b.svg"},"7cde":function(t,a,e){"use strict";e.r(a);var i=e("acf6"),n=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},"95b6":function(t,a,e){t.exports=e.p+"static/img/trade_icon_4.8c7a31dd.svg"},a09d:function(t,a,e){var i=e("24fb"),n=e("1de5"),s=e("687f"),o=e("5d35"),d=e("95b6");a=i(!1);var l=n(s),r=n(o),u=n(d);a.push([t.i,'.balance[data-v-87ba10d2]{padding:%?40?% 0;background:-webkit-linear-gradient(left,#e4007f,#f08300);background:linear-gradient(90deg,#e4007f,#f08300);overflow:hidden}.starorder[data-v-87ba10d2]{background:#fff;opacity:1;border-radius:%?12?%;\n\t/* margin-left: 24rpx;\n\t\tmargin-right: 24rpx; */padding:%?20?%;border-bottom:solid .5px #eee}.balance-a[data-v-87ba10d2]{color:#fff;text-align:center;position:relative;width:50%;float:left}.balance-a span[data-v-87ba10d2]{font-size:%?26?%}.balance-a p[data-v-87ba10d2]{font-size:%?42?%}.balance-b[data-v-87ba10d2]::after{width:%?2?%;height:%?50?%;content:"";background:hsla(0,0%,100%,.5);position:absolute;right:0;top:25%}.price-update[data-v-87ba10d2]{height:%?72?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;border-bottom:%?1?% solid #eee;padding:%?4?% 0;line-height:%?60?%}.price-update-span1[data-v-87ba10d2]{color:#aaa;font-size:%?23?%}.price-update-span2[data-v-87ba10d2]{color:#333;font-size:%?23?%;margin-left:%?10?%}.trade-order[data-v-87ba10d2]{background:#fff;border-bottom:#eee %?20?% solid;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;overflow:hidden}.trade-order-1[data-v-87ba10d2]{padding:%?20?% 0;text-align:center;width:100%}.trade-order-i[data-v-87ba10d2]{width:%?80?%;height:%?80?%;display:block;background-repeat:no-repeat;background-position:50%;margin:0 auto}.trade-order-1-i[data-v-87ba10d2]{background-image:url('+l+")}.trade-order-3-i[data-v-87ba10d2]{background-image:url("+r+")}.trade-order-4-i[data-v-87ba10d2]{background-image:url("+u+")}.trade-order-span[data-v-87ba10d2]{font-size:%?24?%}.trade-tab[data-v-87ba10d2]{overflow:hidden;position:relative}.trade-list-content[data-v-87ba10d2]{background:#fff;border-bottom:#f1f1f1 1px solid;overflow:hidden;padding:%?4?%;position:relative;padding:%?26?% %?26?%}.header[data-v-87ba10d2]{width:%?88?%;height:%?88?%;border-radius:50%;float:left;margin-right:%?26?%}.trade-list-item[data-v-87ba10d2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.trade-list-item-span1[data-v-87ba10d2]{font-size:%?28?%;color:#333}.trade-list-item-span2[data-v-87ba10d2]{font-size:%?30?%;color:#ff5a5a}.trade-list-item-span3[data-v-87ba10d2]{font-size:%?28?%;color:#999}.trade-list-item-span4[data-v-87ba10d2]{font-size:%?28?%;color:#333;border:1px #78bc43 solid;color:#78bc43;border-radius:10%;width:%?80?%;text-align:center;cursor:pointer}\n\n/* 购买 */.uni-modal__bd[data-v-87ba10d2]{padding:.8em 1.6em .8em;border-top:1px solid #d5d5d6;text-align:initial;color:#333}.release-label[data-v-87ba10d2]{width:35%;float:left;font-size:14px;line-height:1.8;padding:0 %?30?%}.modal-input[data-v-87ba10d2]{color:#ff5a5a}",""]),t.exports=a},acf6:function(t,a,e){"use strict";var i=e("ee27");e("99af"),e("c975"),e("a15b"),e("a434"),e("b680"),e("e25e"),e("ac1f"),e("5319"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("36fb")),s={data:function(){return{token:"",saleList:[],pageIndex:1,pageSize:10,total:0,focus:!1,money:0,moneyQuota:0,message:"将赚到的渠豆通过市场进行变现，通过价值波动，获得更多利润。",priceTime:{},action:!1,index:0,item:"",buyNumber:"",buyMoney:0}},onLoad:function(){this.token=uni.getStorageSync("token"),console.log("1111"),this.getUserLevelList(),this.getSaleListEntity(),this.getPriceTimeEntity()},onShow:function(){},onReachBottom:function(){this.saleList.length<this.total&&(this.pageIndex++,this.getSaleListEntity())},onPullDownRefresh:function(){this.pageIndex=1,this.saleList=[],this.getSaleListEntity()},mounted:function(){document.getElementById("inbox").focus()},methods:{goIndex:function(){uni.switchTab({url:"/pages/index/index"})},keUp:function(t){1==t.detail.value.length?this.buyNumber=t.detail.value.replace(/[^1-9]/g,""):this.buyNumber=t.detail.value.replace(/\D/g,""),this.buyNumber=1*this.buyNumber,this.buyMoney=this.formatNumber(this.item.price*this.buyNumber,.001)},formatNumber:function(t,a){var e=""+a,i=e.indexOf("."),n=i>-1?e.length-i-1:0,s=.1*parseInt(1+Array((""+n).length+1).join(0)),o=t*s;return(parseInt(o/a+.5*(a>1?1:a))*a/s).toFixed(n)},goReleaseSell:function(){uni.navigateTo({url:"/pages/Trade/ReleaseSell"})},goTradeSaleOrder:function(){uni.navigateTo({url:"/pages/Trade/TradeSaleOrder"})},goTradeOrder:function(){uni.navigateTo({url:"/pages/Trade/TradeOrder"})},getUserLevelList:function(){var t=this;uni.request({url:t.ApiGateWay+"/sale/Transaction/GetMemberMoney",data:"",header:{Authorization:t.token},method:"POST",dataType:"json",success:function(a){n.default.CheckData(a)&&(console.log(a),t.money=a.data.data.money,t.moneyQuota=a.data.data.moneyQuota)},complete:function(){uni.hideLoading()},fail:function(t){uni.stopPullDownRefresh()}})},getPriceTimeEntity:function(){var t=this;uni.request({url:t.ApiGateWay+"/sale/Transaction/GetPriceTimeEntity",data:"",header:{Authorization:t.token},method:"POST",dataType:"json",success:function(a){console.log(a),n.default.CheckData(a)&&(t.priceTime=a.data.data)},complete:function(){uni.hideLoading()},fail:function(t){uni.stopPullDownRefresh()}})},getSaleListEntity:function(){var t=this,a={pageIndex:t.pageIndex,pageSize:t.pageSize,state:-1};uni.request({url:t.ApiGateWay+"/sale/Transaction/GetSaleListEntity",data:a,method:"POST",dataType:"json",header:{Authorization:t.token},success:function(a){n.default.CheckData(a)&&0==a.data.errorCode&&(t.saleList=t.saleList.concat(a.data.list),t.total=a.data.total)},fail:function(){uni.hideLoading()},complete:function(){uni.hideLoading(),uni.stopPullDownRefresh()}})},getBuy:function(t,a){this.index=t,this.item=a,this.action=!0},noBuy:function(){this.index=0,this.item=0,this.action=!1,this.buyNumber="",this.buyMoney=0},addBuyListEntity:function(){var t=this;this.item.surplus<t.buyNumber?uni.showToast({title:"购买数量不能大于别人出售数量",icon:"none"}):this.moneyQuota<this.buyMoney?uni.showToast({title:"余额不足",icon:"none"}):uni.request({url:t.ApiGateWay+"/sale/Transaction/AddBuyListEntity?saleId="+this.item.id+"&number="+t.buyNumber,data:"",method:"POST",dataType:"json",header:{Authorization:t.token},success:function(a){console.log(a),n.default.CheckData(a)?(t.getUserLevelList(),t.saleList[t.index].surplus>t.buyNumber?t.saleList[t.index].surplus=t.saleList[t.index].surplus-t.buyNumber:t.saleList.splice(t.index,1),t.noBuy(),uni.showModal({title:"提示",content:"购买成功",confirmColor:"#5A83E9",showCancel:!1})):uni.showToast({title:a.data.errorMessage,icon:"none"})},complete:function(){uni.hideLoading()},fail:function(t){uni.stopPullDownRefresh()}})}}};a.default=s},b6ef:function(t,a,e){"use strict";e.r(a);var i=e("5b43"),n=e("7cde");for(var s in n)"default"!==s&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("d141");var o,d=e("f0c5"),l=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"87ba10d2",null,!1,i["a"],o);a["default"]=l.exports},d141:function(t,a,e){"use strict";var i=e("59d9"),n=e.n(i);n.a},e8b8:function(t,a,e){t.exports=e.p+"static/img/logo.57a605e6.png"}}]);